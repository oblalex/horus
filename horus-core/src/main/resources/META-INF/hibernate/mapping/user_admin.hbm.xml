<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN" "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<hibernate-mapping>
    <class name="ua.cn.stu.oop.horus.core.domain.user.UserAdmin" table="user_admin">
        <id name="id" type="long">
            <column name="id"/>
            <generator class="sequence">
                <param name="sequence">
            user_admin_seq
                </param>
            </generator>
        </id>
        <property column="comment" name="comment" type="string"/>
        <many-to-one cascade="all" class="ua.cn.stu.oop.horus.core.domain.user.User" column="user_id" name="user" not-null="true" unique="true"/>
    </class>
    <query name="adminOrNullByUserHQL">
        
            SELECT DISTINCT uadm FROM UserAdmin uadm WHERE uadm.user=?
        
    </query>
    <sql-query name="noAdminExistsNativeSQL">
        <return-scalar column="result" type="true_false" />
        <![CDATA[
            select (count(id)=0) as result from user_admin
        ]]>
    </sql-query>
</hibernate-mapping>
